<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Ventus Dashboard</title>
    <script src="/webcomponentsjs/webcomponents-lite.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.7.0/d3.js"></script> -->
    <link rel="import" href="/px-demo/px-demo.html"/>
    <link rel="import" href="/px-branding-bar/px-branding-bar.html"></link>
    <link rel="import" href="/px-app-nav/px-app-nav.html"></link>
    <link rel="import" href="/px-alert-label/px-alert-label.html"></link>
    <link rel="import" href="/px-spinner/px-spinner.html"></link>
    <link rel="import" href="/px-panel/px-panel.html"></link>
    <link rel="import" href="/px-simple-line-chart/px-simple-line-chart.html"></link>
    <link rel="import" href="/px-accordion/px-accordion.html"></link>
    <link rel="import" href="/px-toggle/px-toggle.html"></link>
    <link rel="import" href="/px-key-value-pair/px-key-value-pair.html"></link>

    <!-- <link rel="import" href="/px-vis/px-vis.html"/> -->
    <link rel="import" href="/px-vis-timeseries/px-vis-timeseries.html"/>

    <style media="screen">
      html, body {margin: 0;}
      body, html, .main-container, .sidebar {
        height: 100%;
        font-family: sans-serif;

      }
      .main-container {
        display: flex;
        align-items: stretch;
      }
      #loading-div {
        position: absolute;
        height: 100%;
        width: 100%;
        background: white;
        z-index: 1;
        transition: opacity 0.3s;
        opacity: 0;
      }
      #loading {
        position: absolute;
        top: 50%;
        left: 50%;
        text-align: center;
        z-index: 2;
        transform: translateX(-50%);
        transition: opacity 0.3s;
        opacity: 0;
      }
      .sidebar {
        width: 300px;
        padding: 8px;
        box-shadow: 1px 3px 2px 1px lightgray;
        text-align: center;
      }
      .sidebar > img {
        border-radius: 100%;
        width: 150px;
        height: 150px;
        margin: 16px;
      }
      .title {
        display: block;
        margin-bottom: 24px;
      }
      .content {
        margin-top: 16px;
        margin-left: 16px;
      }
      /*TODO: remove top part of accordian.*/
      px-accordion-group .accordion__expand__collapse {
        display: none;
      }
      px-accordion-group px-key-value-pair {
        display: block;
        text-align: left;
        margin-left: 12px;
        margin-bottom: 12px;
      }

    </style>
  </head>
  <body>
    <!-- <px-panel opened position="left" background="light" fixed>
      <div slot="content">
        <img src='https://static.interestingengineering.com/images/OCTOBER/sizes/wind-turbine-white_resize_md.jpg'></img>
      </div>
    </px-panel> -->
    <px-branding-bar
    application-title="Ventus">
    </px-branding-bar>

    <!-- <px-app-nav
    items='[{"label":"Home","id":"home","icon":"px-fea:home"},{"label":"Alerts","id":"alerts","icon":"px-fea:alerts","metadata":{"openCases":"12","closedCases":"82"}},{"label":"Assets","id":"assets","icon":"px-fea:asset","children":[{"label":"Asset #1","id":"a1"},{"label":"Asset #2","id":"a2"}]},{"label":"Dashboards","id":"dashboards","icon":"px-fea:dashboard","children":[{"label":"See Live Truck View","id":"trucks","icon":"px-obj:truck"},{"label":"Track Orders","id":"orders","icon":"px-fea:orders"},{"label":"Analyze Invoices","id":"invoices","icon":"px-fea:templates"}]}]'
    selected-route='["home"]'
    selected-meta='{"item":{"label":"Home","id":"home","icon":"px-fea:home"},"path":[{"label":"Home","id":"home","icon":"px-fea:home"}],"route":["home"],"parent":null,"children":[],"siblings":[{"label":"Home","id":"home","icon":"px-fea:home"},{"label":"Alerts","id":"alerts","icon":"px-fea:alerts","metadata":{"openCases":"12","closedCases":"82"}},{"label":"Assets","id":"assets","icon":"px-fea:asset","children":[{"label":"Asset #1","id":"a1"},{"label":"Asset #2","id":"a2"}]},{"label":"Dashboards","id":"dashboards","icon":"px-fea:dashboard","children":[{"label":"See Live Truck View","id":"trucks","icon":"px-obj:truck"},{"label":"Track Orders","id":"orders","icon":"px-fea:orders"},{"label":"Analyze Invoices","id":"invoices","icon":"px-fea:templates"}]}]}'>
    </px-app-nav> -->
    <px-app-nav
    items='[{"label":"Home","id":"home","icon":"px-fea:home"}]'
    selected-route='["home"]'
    selected-meta='{"item":{"label":"Home","id":"home","icon":"px-fea:home"},"path":[{"label":"Home","id":"home","icon":"px-fea:home"}],"route":["home"],"parent":null,"children":[],"siblings":[{"label":"Home","id":"home","icon":"px-fea:home"},{"label":"Alerts","id":"alerts","icon":"px-fea:alerts","metadata":{"openCases":"12","closedCases":"82"}},{"label":"Assets","id":"assets","icon":"px-fea:asset","children":[{"label":"Asset #1","id":"a1"},{"label":"Asset #2","id":"a2"}]},{"label":"Dashboards","id":"dashboards","icon":"px-fea:dashboard","children":[{"label":"See Live Truck View","id":"trucks","icon":"px-obj:truck"},{"label":"Track Orders","id":"orders","icon":"px-fea:orders"},{"label":"Analyze Invoices","id":"invoices","icon":"px-fea:templates"}]}]}'>
    </px-app-nav>
    <div id="loading-div">

    </div>
    <div id="loading">
      <px-spinner
        size="180">
      </px-spinner>
    </div>
    <div class='main-container'>
      <div class='sidebar'>
        <!-- <img src='https://static.interestingengineering.com/images/OCTOBER/sizes/wind-turbine-white_resize_md.jpg'></img>
        <a class='title'>Windy the Wind Turbine</a> -->
        <br>
        <px-accordion-group>
          <px-accordion
          icons='{"more":"px-utl:chevron-right","less":"px-utl:chevron"}]}'
          header-value="Turbine Details" opened>

          <px-key-value-pair
            label="Farm ID"
            value="F0093"
            uom=""
            size="delta">
          </px-key-value-pair>
          <px-key-value-pair
            label="Turbine ID"
            value="W1324"
            uom=""
            size="delta">
          </px-key-value-pair>
          <px-key-value-pair
            label="Latitude"
            value="123.12342"
            uom=""
            size="delta">
          </px-key-value-pair>
          <px-key-value-pair
            label="Longitude"
            value="182.24314"
            uom=""
            size="delta">
          </px-key-value-pair>

          </px-accordion>

          <px-accordion
          icons='{"more":"px-utl:chevron-right","less":"px-utl:chevron"}]}'
          header-value="Current Status" opened>
          <px-alert-label
            id="current-time-text"
            label="Thu Aug 16 2018 08:00:00 GMT+0800"
            type="unknown"
            style="display:block; margin-bottom: 10px;">
          </px-alert-label>
          <px-key-value-pair
            id="wind-speed-text"
            label="Wind Speed"
            value="5"
            uom="m/s"
            size="beta">
          </px-key-value-pair>
          <!-- <px-key-value-pair
            label="Wind Direction"
            value="50"
            uom="degrees"
            size="beta">
          </px-key-value-pair> -->
          <px-key-value-pair
            id="temperature-text"
            label="Temperature"
            value="20"
            uom="Â°C"
            size="beta">
          </px-key-value-pair>

          </px-accordion>

          <px-accordion
          icons='{"more":"px-utl:chevron-right","less":"px-utl:chevron"}]}'
          header-value="Predicted" opened>
          <px-alert-label
            id="predicted-time-text"
            label="Thu Aug 16 2018 12:00:00 GMT+0800"
            type="unknown"
            style="display:block; margin-bottom: 10px;">
          </px-alert-label>
          <px-key-value-pair
            id="predicted-wind-speed-text"
            label="Wind Speed"
            value="5"
            uom="m/s"
            size="beta">
          </px-key-value-pair>

          </px-accordion>

        </px-accordion-group>

      </div>
      <!-- threshold-data='[{"for":"y0","type":"max","value":15.4784},{"for":"y0","type":"min","value":9.6531}]' -->
      <!-- display-threshold-title
      threshold-config='{"max":{"color":"red","dashPattern":"5,0","title":"MAX","showThresholdBox":true,"displayTitle":true}}' -->
      <div class='content'>
        <px-vis-timeseries
          debounce-resize-timing="250"
          width="1200"
          height="0"
          chart-horizontal-alignment="center"
          chart-vertical-alignment="center"
          margin='{"top":30,"bottom":60,"left":65,"right":65}'
          tooltip-config='{}'
          register-config='{"type":"horizontal"}'
          selection-type="xy"
          chart-data=''
          series-config='
            {"y0":
              {"name":"Wind Speed","x":"timeStamp","y":"y0","yAxisUnit":"m/s", "strokeWidth":"1", "axis":{"id":"axis1","side":"left","number":"1"}},
            "y1":
              {"name":"Moving Ave","x":"timeStamp","y":"y1","yAxisUnit":"m/s", "color":"rgb(255, 0, 0)", "strokeWidth":"0.5", "axis":{"id":"axis2","side":"right","number":"2"}}
            }'
          chart-extents='{"x":["dynamic","dynamic"],"y":[-1,18]}'
          x-axis-config='{"title":"Date"}'
          y-axis-config='{"title":"Wind Speed","titleTruncation":false,"unit":"m/s","axis2":{"title":"Moving Average","titleTruncation":false,"unit":"m/s"}}'
          navigator-config='{"xAxisConfig":{"tickFormat":"%b %d"}}'>
        </px-vis-timeseries>
      </div>
    </div>
  </body>
  <script src="./scripts/test.js" charset="utf-8" type="application/javascript"></script>
  <script src="./scripts/timeseries_actual.js" charset="utf-8" type="application/javascript"></script>
</html>

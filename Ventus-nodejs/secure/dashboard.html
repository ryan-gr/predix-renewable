<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Ventus Dashboard</title>
    <script src="/webcomponentsjs/webcomponents-lite.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/5.7.0/d3.js"></script> -->
    <link rel="import" href="/px-demo/px-demo.html"/>
    <link rel="import" href="/px-branding-bar/px-branding-bar.html"></link>
    <link rel="import" href="/px-app-nav/px-app-nav.html"></link>
    <link rel="import" href="/px-alert-label/px-alert-label.html"></link>
    <link rel="import" href="/px-spinner/px-spinner.html"></link>
    <link rel="import" href="/px-panel/px-panel.html"></link>
    <link rel="import" href="/px-simple-line-chart/px-simple-line-chart.html"></link>
    <link rel="import" href="/px-accordion/px-accordion.html"></link>
    <link rel="import" href="/px-toggle/px-toggle.html"></link>
    <link rel="import" href="/px-threshold-bar/px-threshold-bar.html"></link>
    <link rel="import" href="/px-key-value-pair/px-key-value-pair.html"></link>
    <link rel="import" href="/px-data-grid/px-data-grid.html"></link>
    <link rel="import" href="/px-vis-timeseries"/>
    <link rel="stylesheet" type="text/css" href="./stylesheets/dashboard.css">
  </head>
  <body>
    <px-branding-bar
    application-title="Ventus">
    </px-branding-bar>

    <px-app-nav
    items='[{"label":"Dashboard","id":"home","icon":"px-fea:dashboard"},{"label":"Turbine Select","id":"select","icon":"px-obj:wind-turbine"}]'
    selected-route='["home"]'
    selected-meta='{"item":{"label":"Home","id":"home","icon":"px-fea:home"},"path":[{"label":"Home","id":"home","icon":"px-fea:home"}],"route":["home"],"parent":null,"children":[],"siblings":[{"label":"Home","id":"home","icon":"px-fea:home"},{"label":"Alerts","id":"alerts","icon":"px-fea:alerts","metadata":{"openCases":"12","closedCases":"82"}},{"label":"Assets","id":"assets","icon":"px-fea:asset","children":[{"label":"Asset #1","id":"a1"},{"label":"Asset #2","id":"a2"}]},{"label":"Dashboards","id":"dashboards","icon":"px-fea:dashboard","children":[{"label":"See Live Truck View","id":"trucks","icon":"px-obj:truck"},{"label":"Track Orders","id":"orders","icon":"px-fea:orders"},{"label":"Analyze Invoices","id":"invoices","icon":"px-fea:templates"}]}]}'>
    </px-app-nav>
    <div id="loading-div">

    </div>
    <div id="loading">
      <px-spinner
        size="180">
      </px-spinner>
    </div>
    <div class='main-container'>
      <div class='sidebar'>
        <br>
        <px-accordion-group>
          <px-accordion
          icons='{"more":"px-utl:chevron-right","less":"px-utl:chevron"}]}'
          header-value="Turbine Details" opened>

          <px-key-value-pair
            label="Farm ID"
            value="F0093"
            uom=""
            size="delta">
          </px-key-value-pair>
          <px-key-value-pair
            label="Turbine ID"
            value="W1324"
            uom=""
            size="delta">
          </px-key-value-pair>
          <!-- <px-key-value-pair
            label="Latitude"
            value="123.12342"
            uom=""
            size="delta">
          </px-key-value-pair>
          <px-key-value-pair
            label="Longitude"
            value="182.24314"
            uom=""
            size="delta">
          </px-key-value-pair> -->

          </px-accordion>

          <px-accordion
          icons='{"more":"px-utl:chevron-right","less":"px-utl:chevron"}]}'
          header-value="Current Status" opened>
          <px-alert-label
            id="current-time-text"
            label="Thu Aug 16 2018 08:00:00 GMT+0800"
            type="unknown"
            style="display:block; margin-bottom: 10px;">
          </px-alert-label>
          <px-key-value-pair
            id="wind-speed-text"
            label="Wind Speed"
            value="5"
            uom="m/s"
            size="delta">
          </px-key-value-pair>
          <px-key-value-pair
            id="power-output-text"
            label="Power Output"
            value="50"
            uom="kW"
            size="delta">
          </px-key-value-pair>
          <px-key-value-pair
            id="temperature-text"
            label="Temperature"
            value="20"
            uom="Â°C"
            size="delta">
          </px-key-value-pair>

          </px-accordion>

          <px-accordion
          icons='{"more":"px-utl:chevron-right","less":"px-utl:chevron"}]}'
          header-value="Predicted" opened>
          <px-alert-label
            id="predicted-time-text"
            label="Thu Aug 16 2018 12:00:00 GMT+0800"
            type="unknown"
            style="display:block; margin-bottom: 10px;">
          </px-alert-label>
          <px-key-value-pair
            id="predicted-wind-speed-text"
            label="Wind Speed"
            value="5"
            uom="m/s"
            size="delta">
          </px-key-value-pair>
          <px-key-value-pair
            id="predicted-power-output-text"
            label="Power Output"
            value="5"
            uom="kW"
            size="delta">
          </px-key-value-pair>

          </px-accordion>

        </px-accordion-group>

      </div>
      <!-- threshold-data='[{"for":"y0","type":"max","value":15.4784},{"for":"y0","type":"min","value":9.6531}]' -->
      <!-- display-threshold-title
      threshold-config='{"max":{"color":"red","dashPattern":"5,0","title":"MAX","showThresholdBox":true,"displayTitle":true}}' -->
      <div class='content'>
        <br>
        <px-vis-timeseries
          debounce-resize-timing="250"
          width="800"
          height="0"
          chart-horizontal-alignment="center"
          chart-vertical-alignment="center"
          margin='{"top":30,"bottom":70,"left":65,"right":65}'
          tooltip-config='{}'
          register-config='{"type":"horizontal"}'
          selection-type="xy"
          chart-data=''
          series-config='
            {"y0":
              {"name":"Wind Speed","x":"timeStamp","y":"y0","yAxisUnit":"m/s", "strokeWidth":"1", "axis":{"id":"axis1","side":"left","number":"1"}},
            "y1":
              {"name":"Moving Ave","x":"timeStamp","y":"y1","yAxisUnit":"m/s", "color":"rgb(255, 0, 0)", "strokeWidth":"0.5", "axis":{"id":"axis2","side":"right","number":"2"}}
            }'
          chart-extents='{"x":["dynamic","dynamic"],"y":[-1,18]}'
          x-axis-config='{"title":"Date"}'
          y-axis-config='{"title":"Wind Speed","titleTruncation":false,"unit":"m/s","axis2":{"title":"Moving Average","titleTruncation":false,"unit":"m/s"}}'
          navigator-config='{"xAxisConfig":{"tickFormat":"%b %d"}}'
          interpolationFunction='curveBasisOpen'
          disable-navigator='true'
          event-data='[{"id":"123","time":1534291200000,"label":"Now"}]'
          event-config='{"Now":{"color":"green","icon":"px-utl:flag","type":"px","offset":[0,0],"lineColor":"green","lineWeight":0, "enableTooltip":false}}'>

        </px-vis-timeseries>
      </div>
    </div>
    <div class='select-container'>
      <px-data-grid
        table-data='[{"farmId":"F0093","turbineId":"W1324","status":"Running"},{"farmId":"F0093","turbineId":"W1325","status":"Running"},{"farmId":"F0093","turbineId":"W1326","status":"Maintenance"}]'
        columns='[{"name":"Farm ID","path":"farmId","renderer":"px-data-grid-string-renderer","editable":true,"frozen":false,"id":"farmId[string]"},{"name":"Turbine ID","path":"turbineId","renderer":"px-data-grid-string-renderer","editable":true,"frozen":false,"id":"turbineId[string]"},{"name":"Status","path":"status","frozen":false,"id":"status[string]"}]'
        selection-mode="none"
        table-actions='[{"name":"Export CSV","id":"CSV"}]'
        item-actions='[{"name":"Analytics Dashboard","id":"dashboard"},{"name":"Toggle Maintenance","id":"mark"}]'
        flex-to-size
        highlight='[]'>

      </px-data-grid>
    </div>
  </body>
  <script src="./scripts/dashboard.js" charset="utf-8" type="application/javascript"></script>
</html>
